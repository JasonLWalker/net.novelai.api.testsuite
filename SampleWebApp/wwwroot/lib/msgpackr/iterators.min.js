/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/msgpackr@1.10.1/iterators.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Packr}from"./pack.js";import{Unpackr}from"./unpack.js";export function packIter(t,r={}){if(t&&"object"==typeof t){if("function"==typeof t[Symbol.iterator])return packIterSync(t,r);if("function"==typeof t.then||"function"==typeof t[Symbol.asyncIterator])return packIterAsync(t,r);throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}throw new Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable")}function*packIterSync(t,r){const e=new Packr(r);for(const r of t)yield e.pack(r)}async function*packIterAsync(t,r){const e=new Packr(r);for await(const r of t)yield e.pack(r)}export function unpackIter(t,r={}){if(!t||"object"!=typeof t)throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise");const e=new Unpackr(r);let o;const n=t=>{let r;o&&(t=Buffer.concat([o,t]),o=void 0);try{r=e.unpackMultiple(t)}catch(e){if(!e.incomplete)throw e;o=t.slice(e.lastPosition),r=e.values}return r};return"function"==typeof t[Symbol.iterator]?function*(){for(const r of t)yield*n(r)}():"function"==typeof t[Symbol.asyncIterator]?async function*(){for await(const r of t)yield*n(r)}():void 0}export const decodeIter=unpackIter;export const encodeIter=packIter;
//# sourceMappingURL=/sm/439f8fdaaa0835231cc71874129fcac109aba59263e8985eda9f69bea29f73cd.map